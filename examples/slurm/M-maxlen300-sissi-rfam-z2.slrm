#!/bin/sh
#SBATCH -J ml3dsrz2
#SBATCH --partition=zen2_0256_a40x2
#SBATCH --qos zen2_0256_a40x2
#SBATCH --gres=gpu:2
#SBATCH --mail-user=a12144285@unet.univie.ac.at
#SBATCH --mail-type=BEGIN,END,FAIL
#SBATCH --output=/home/fs71475/julianz123/workspace/rnadeep/examples/slurm/out/maxlen300-sissi-rfam-z2.%A.out
#SBATCH --error=/home/fs71475/julianz123/workspace/rnadeep/examples/slurm/out/maxlen300-sissi-rfam-z2.%A.err

module load miniconda3
eval "$(conda shell.bash hook)"
conda activate rnadeep

python ../train_ali.py --ali-dir ../../rnaconv/data/generated/alignment/maxlen300/alignments/ \
                    --dbn-dir ../../rnaconv/data/generated/alignment/maxlen300/neighbourhoods/dbn/ \
                    --model-log-dir ../models \
                    --data-tag maxlen300-sissi-rfam-z2 --smodel 3 --batch-size 4 --epochs 5

python ../train_ali.py --ali-dir ../../rnaconv/data/rfam/maxlen300/seed_alignments/ \
                    --dbn-dir ../../rnaconv/data/rfam/maxlen300/seed_neighbourhoods/dbn/ \
                    --model-log-dir ../models \
                    --data-tag maxlen300-sissi-rfam-z2 --load-model ../models/sm3_maxlen300-sissi-rfam-z2_010 \
                    --smodel 3 --epoch0 10 --batch-size 4 --epochs 5

